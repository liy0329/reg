2020/6/16 10:17:20:[update member set hspcard='202006160002',mzfare = 'FB8E311F',createdate='2020-06-16 10:21:40' where id='138223';insert into member_rechargedet(id,bas_member_id,billcode,opertype,amount,bas_paytype_id,balance,depart_id,operator,settled,operatdate)values('8008','138223','202006160001','CO','2','11','120','55','191','N','2020-06-16 10:21:40');update member_balance set balance='120',available='120' where bas_member_id='138223';update member_balance set cardstat='YES' where bas_member_id='138223'update member set cardstat='YES' where id='138223']System.Data.Odbc.OdbcException (0x80131937): ERROR [HY000] [MySQL][ODBC 5.3(w) Driver][mysqld-5.7.17-log]unhandled error from mysql_next_result()
   在 System.Data.Odbc.OdbcDataReader.NextResult(Boolean disposing, Boolean allresults)
   在 System.Data.Odbc.OdbcDataReader.NextResult()
   在 System.Data.Odbc.OdbcDataReader.FirstResult()
   在 System.Data.Odbc.OdbcCommand.ExecuteReaderObject(CommandBehavior behavior, String method, Boolean needReader, Object[] methodArguments, SQL_API odbcApiMethod)
   在 System.Data.Odbc.OdbcCommand.ExecuteReaderObject(CommandBehavior behavior, String method, Boolean needReader)
   在 System.Data.Odbc.OdbcCommand.ExecuteNonQuery()
   在 MTHIS.db.DBMySQLODBC.Update(String sql) 位置 D:\医院工程\石家庄井陉中医院\MTREG\MTREG\db\DBMySQLODBC.cs:行号 389
2020/6/16 19:42:09:[SELECT insuritem.name AS'项目名称', insuritem.pincode AS'拼音简码', insuritem.insurcode AS'医保项目编码', insuritem.name2 AS'商品名称', insuritem.spec AS'规格', insuritem.unit AS'单位', insuritem.itemfrom AS'项目定义类型', insuritem.insurclass AS'医保等级', insuritem.dosageform AS'剂型', insuritem.BKA643 AS '物价编码', insuritem.ratioclin AS'门诊报销比例', insuritem.ratioihsp AS'住院报销比例', insuritem.islimitprc AS'是否限价', insuritem.limitprc AS'限价金额', insuritem.isspecial AS'特殊诊疗标志', insuritem.specprc AS'特殊诊疗限价', insuritem.limituse AS'限制使用信息', insuritem.approve AS'审批标志', insuritem.siglecharge AS'单独收费标志', insuritem.statenum AS'国药准字', insuritem.drugfactory AS'外键厂家', insuritem.memo AS'备注', insuritem.updateat AS'更新时间', insuritem.id AS 'id' FROM cost_insuritem insuritem WHERE insuritem.cost_insurtype_id = '23'  AND isstop = 'N' and insuritem.itemfrom = 'COST'and insuritem.name  LIKE'%SELECT insuritem.name AS'项目名称', insuritem.pincode AS'拼音简码', insuritem.insurcode AS'医保项目编码', insuritem.name2 AS'商品名称', insuritem.spec AS'规格', insuritem.unit AS'单位', insuritem.itemfrom AS'项目定义类型', insuritem.insurclass AS'医保等级', insuritem.dosageform AS'剂型', insuritem.BKA643 AS '物价编码', insuritem.ratioclin AS'门诊报销比例', insuritem.ratioihsp AS'住院报销比例', insuritem.islimitprc AS'是否限价', insuritem.limitprc AS'限价金额', insuritem.isspecial AS'特殊诊疗标志', insuritem.specprc AS'特殊诊疗限价', insuritem.limituse AS'限制使用信息', insuritem.approve AS'审批标志', insuritem.siglecharge AS'单独收费标志', insuritem.statenum AS'国药准字', insuritem.drugfactory AS'外键厂家', insuritem.memo AS'备注', insuritem.updateat AS'更新时间', insuritem.id AS 'id' FROM cost_insuritem insuritem WHERE insuritem.cost_insurtype_id = '23'  AND isstop = 'N' and insuritem.itemfrom = 'BED'and insuritem.name  LIKE'%一次性输%' limit 100%' limit 100]System.Data.Odbc.OdbcException (0x80131937): ERROR [42000] [MySQL][ODBC 5.3(w) Driver][mysqld-5.5.5-10.2.14-MariaDB-log]You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near '项目名称', insuritem.pincode AS'拼音简码', insuritem.insurcode AS'医保' at line 1
   在 System.Data.Odbc.OdbcConnection.HandleError(OdbcHandle hrHandle, RetCode retcode)
   在 System.Data.Odbc.OdbcCommand.ExecuteReaderObject(CommandBehavior behavior, String method, Boolean needReader, Object[] methodArguments, SQL_API odbcApiMethod)
   在 System.Data.Odbc.OdbcCommand.ExecuteReaderObject(CommandBehavior behavior, String method, Boolean needReader)
   在 System.Data.Odbc.OdbcCommand.ExecuteReader(CommandBehavior behavior)
   在 System.Data.Odbc.OdbcCommand.ExecuteDbDataReader(CommandBehavior behavior)
   在 System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   在 System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   在 System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   在 System.Data.Common.DbDataAdapter.Fill(DataSet dataSet)
   在 MTHIS.db.DBMySQLODBC.Select(String sql) 位置 D:\医院工程\石家庄井陉中医院\MTREG\MTREG\db\DBMySQLODBC.cs:行号 301
2020/6/16 19:45:03:[SELECT  inhospital.ihspcode AS '住院号', ihsp_costdet.NAME AS '项目名称', ihsp_costdet.prc AS '单价', ihsp_costdet.num AS '数量', ihsp_costdet.fee AS '金额', ihsp_costdet.itemfrom AS '项目类别', ( SELECT insurcode FROM cost_insurcross WHERE cost_insurcross.item_id = ihsp_costdet.item_id ) AS '医保编码', ihsp_costdet.ihsp_advdet_id AS '处方号', ihsp_costdet.costexdate AS '创建日期', ihsp_costdet.costexdate AS '开方日期', ihsp_costdet.insursync AS '是否上传', ihsp_costdet.item_id AS prodiid, ihsp_costdet.id  FROM ihsp_costdet, inhospital  WHERE inhospital.id = ihsp_costdet.ihsp_id  AND charged IN (   'CHAR' )  AND inhospital.id =  '24551']System.Data.Odbc.OdbcException (0x80131937): ERROR [HY000] [MySQL][ODBC 5.3(w) Driver][mysqld-5.5.5-10.2.14-MariaDB-log]Subquery returns more than 1 row
   在 System.Data.Odbc.OdbcConnection.HandleError(OdbcHandle hrHandle, RetCode retcode)
   在 System.Data.Odbc.OdbcCommand.ExecuteReaderObject(CommandBehavior behavior, String method, Boolean needReader, Object[] methodArguments, SQL_API odbcApiMethod)
   在 System.Data.Odbc.OdbcCommand.ExecuteReaderObject(CommandBehavior behavior, String method, Boolean needReader)
   在 System.Data.Odbc.OdbcCommand.ExecuteReader(CommandBehavior behavior)
   在 System.Data.Odbc.OdbcCommand.ExecuteDbDataReader(CommandBehavior behavior)
   在 System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   在 System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   在 System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   在 System.Data.Common.DbDataAdapter.Fill(DataSet dataSet)
   在 MTHIS.db.DBMySQLODBC.Select(String sql) 位置 D:\医院工程\石家庄井陉中医院\MTREG\MTREG\db\DBMySQLODBC.cs:行号 301
